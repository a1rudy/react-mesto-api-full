# Проект: "Место" на React с регистрацией и авторизацией и серверной частью на Яндекс.Облаке.

Репозиторий для приложения проекта `Mesto`, включающий фронтенд и бэкенд части приложения со следующими возможностями: авторизации и регистрации пользователей, операции с карточками и пользователями. Бэкенд расположите в директории `backend/`, а фронтенд - в `frontend/`. 

Ссылка на проект: [https://project-mesto-by-a1rudy.nomoredomains.monster](https://project-mesto-by-a1rudy.nomoredomains.monster)  
Ссылка на Backend проекта: [https://api.project-mesto-a1rudy.nomoredomains.monster](https://api.project-mesto-a1rudy.nomoredomains.monster)  
Публичный IPv4 сервера: [http://193.32.218.252](http://193.32.218.252)

(Если ссылка не работает - закончился пробный грант на Яндекс.Облако, вы можете развернуть проект локально по инструкции ниже.)

------

Проект "Mesto" реализован автором в рамках 24 потока курса по Веб-разработке от Яндекс.Практикума.  
На сайте поддерживается регистрация личного кабинета без подтверждения электронной почты.  
В данном проекте вы можете делиться фотографиями вдохновляющих вас мест России, в деталях рассмотреть фото панорамы города, удивиться необъятной живописной природой страны и, конечно, обязательно лайкать понравившиеся вам места.

------

## Стек
* React.js
* Node.js
* Express
* MongoDB

------

## Пользовательский интерфейс:
1. Редактирование профиля пользователя: полей "имя" и "о себе", аватар пользователя.
2. Добавление фотографии-карточки на сайт.
3. Удаление добавленной пользователем карточки.
4. Просмотр фотографии карточки в полном размере при клике на нее.
5. Постановка и снятие лайка с карточки.
6. Регистрация и авторизация пользователя.
7. UX функции: 
    * адаптация сайта для мобильных устройств;
    * валидация форм с активацией кнопок попапов;
    * отображение на кнопках попапов индикатора загрузки запросов;
    * затемнение и уменьшение прозрачности активных кнопок и элементов;
    * использование всплывающих попапов для отображения статуса регистрации пользователя;
    * закрытие попапа с сохранение данных формы при нажатии кнопки "Enter";
    * закрытие попапа по кнопке "Esc", а также по клике мыши за его пределами;

------

## Применение инструментов:
1. Компонетный подход БЭМ, в т.ч. файловая структура по правилам Nested БЭМ.
2. Адаптивная верстка с применением медизапросов.
3. Grid layout вёрстка.
4. Flexbox вёрстка.
5. Псевдоклассы.
6. React:
    * применение JSX разметки;
    * применение хуков в функциональных компонентах;
    * работа с формами;
    * применение контекста;
    * поднятие состояния;
    * работа с React Router;
    * применение компонентов высокого порядка для защиты маршрутов;
    * работа с Local storage;
7. Применение HTTP API, API JSON web token (JWT) и Promise;

------

## Инструкция по развертыванию проекта локально через [Git BASH](https://gitforwindows.org/) (терминал):
1. Скачайте и установите [Node.js с официального сайта](https://nodejs.org/en/download/) (по необходимости).
2. Клонируйте репозиторий в корневую папку командой: 
    `git clone https://github.com/a1rudy/react-mesto-api-full.git`
3. Перейдите в установленный репозиторий командой: 
    `cd react-mesto-api-full`
4. Установите node_modules по отдельности в папках backend и frontend командой: 
    `npm install`
5. Запуститите проект на стороне backend командой: 
    `npm run dev`
6. Запуститите проект на стороне frontend командой: 
    `npm run start`

------

## Запросы на стороне backend

### Регистрация

  POST http://localhost:3000/signup

  В теле запроса передать объект вида

    {
      "email": "admin@admin.ru",
      "password": "password",
      "name": "Жак-Ив Кусто",
      "about": "Исследователь",
      "avatar": "https://pictures.s3.yandex.net/resources/jacques-cousteau_1604399756.png"
    }
  
  :heavy_check_mark: При успехе в ответе приходит объект пользователя со статусом `200`.
  
  :x: При попытке создать пользователя с уже существующей в базе почтой приходит ответ со статусом `409` и сообщением `Пользователь с таким email уже существует`.
  
  :x: При попытке создать пользователя с некорректными данными приходит ответ со статусом `400` и ошибкой валидации.
  
  
### Авторизация

POST http://localhost:3000/signin
  
В теле запроса передать объект вида

    {
      "email": "admin@admin.ru",
      "password": "password"
    }
  
:heavy_check_mark: При успехе приходит токен пользователя со статусом `200`

:x: При неправильных почте и/или пароле приходит ответ со статусом `401` и сообщением `Неправильные email или пароль`.

### Редактирование информации по пользователе

PATCH http://localhost:3000/users/me

В теле запроса передать объект вида

    {
      "name": "Жак-Ив Кусто",
      "about": "Исследователь"
    }
  
:heavy_check_mark: При успехе в ответе приходит обновлённый объект пользователя со статусом `200`.
  
:x: При попытке создать пользователя с некорректными данными приходит ответ со статусом `400` и ошибкой валидации.

### Редактирование аватара

PATCH http://localhost:3000/users/me/avatar

В теле запроса передать объект вида

    {
       "avatar": "https://yt3.ggpht.com/a/AATXAJznefE2NAKK7HmoPoDjeb_WiaCvbb46VcboJ9WASA=s900-c-k-c0xffffffff-no-rj-mo"
    }
  
:heavy_check_mark: При успехе в ответе приходит обновлённый объект пользователя со статусом `200`.
  
:x: При попытке создать пользователя с некорректными данными приходит ответ со статусом `400` и ошибкой валидации.

### Добавление карточки
  
POST http://localhost:3000/cards

В теле запроса передать объект вида

    {
       "name": "Домбай",
       "link": "https://avatars.mds.yandex.net/get-zen_doc/242954/pub_5a6badb78c8be3d2b463b301_5a6badd1ad0f22829e707691/scale_1200"
    }
  
:heavy_check_mark: При успехе в ответе приходит объект карточки со статусом `200`.
  
:x: При попытке создать карточку с некорректными данными приходит ответ со статусом `400` и ошибкой валидации.
  
### Лайк карточки
  
PUT http://localhost:3000/cards/:id/likes
  
:heavy_check_mark: При успехе в ответе приходит обновлённый объект карточки со статусом `200`.
  
:x: При попытке лайкнуть карточку с несуществующим в базе id приходит ответ со статусом `404` и сообщением `Карточка с указанным id не найдена.`.

:x: При попытке лайкнуть карточку с некорректным id приходит ответ со статусом `400` и ошибкой валидации.
  
### Дизлайк карточки
  
DELETE http://localhost:3000/cards/:id/likes
  
:heavy_check_mark: При успехе в ответе приходит обновлённый объект карточки со статусом `200`.
  
:x: При попытке дизлайкнуть карточку с несуществующим в базе id приходит ответ со статусом `404` и сообщением `Карточка с указанным id не найдена.`.

:x: При попытке дизлайкнуть карточку с некорректным id приходит ответ со статусом `400` и ошибкой валидации.

### Удаление карточки
  
DELETE http://localhost:3000/cards/:id
  
:heavy_check_mark: При успехе в ответе приходит сообщение `Карточка удалена.` со статусом `200`.
  
:x: При попытке удалить чужую карточку приходит ответ со статусом `403` и сообщением `Отсутствуют права на уделение карточки.`.

:x: При повторной попытке удалить карточку или попытке удалить карточку с несуществующим в базе id приходит ответ со статусом `404` и сообщением `Карточка с указанным id не найдена.`.

:x: При попытке удалить карточку с некорректным id приходит ответ со статусом `400` и ошибкой валидации.

------
